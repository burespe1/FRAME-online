<HTML>
<HEAD > 
  <META NAME="Generator" CONTENT="Mega by MEGA International" URL="http://www.mega.com/"> 
  </META> 
  <META NAME="Company name" CONTENT="Siemens Traffic Controls"> 
  </META> 
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1"> 
  </META> 
  <TITLE > 6.5.9 Make Trip Bookings and Payments
  </TITLE> 
  <LINK REL=STYLESHEET TYPE="text/css" HREF="../standard/ws_intranet.css">
</HEAD> 
<BODY CLASS="Content"> <center><h2>Low Level Function<br>6.5.9 Make Trip Bookings and Payments</h2></center><h3>Overview</H3><H5><div class="Normal">This Function shall be capable of providing the following facilities:<br><br>(1) The ability to make any bookings for services that are needed as part of a trip, or to make payment for the use of the actual trip planning service itself.<br>(2) For bookings of services that are needed as part of a trip, the ability to select the best choice of services to be booked based on what they provide and the price to be paid, i.e. obtain the best value for money.<br>(3) If the best choice cannot be used, the ability to suggest possible alternatives to the Traveller by sending their details to the Provide Traveller Trip Planning interface.<br>(4) The ability to initiate any necessary payment action by sending the details to the Financial Clearinghouse for processing and waiting for receipt of confirmation that payment has successfully been made.<br>(5) The ability to cancel all of the bookings made for a previous trip and send a confirmation message to the Provide Traveller Trip Planning interface when a &quot;cancel bookings&quot; request is received.<br></div></H5><h3>Functional Requirements</H3><h5>(a) continuously monitor for receipt of the full trip description data flow from the Provide Traveller Trip Planning Interface function;<br/>(b) when the data flow in (a) is received, check its contents to see if any payment for the actual trip planning service is needed;<br/>(c) if the answer to the question in (b) is yes, request payment from the traveller by sending the request trip planning payment data flow to the Provide Traveller Trip Planning Interface function;<br/>(d) as a result of (c) continuously monitor for the receipt of the trip planning payment data flow from the Provide Traveller Trip Planning Interface function;<br/>(e) when the data flow in (d) is received, check for payment information and if found, send this to the financial clearinghouse in the trip planning payment request data flow;<br/>(f) as a result of (e), continuously monitor for receipt of the payment for trip planning response data flow from the financial clearinghouse;<br/>(g) when the data flow in (f) is received, check to see if it was successful and if not, send the booking mishap data flow to the Provide Traveller Trip Planning Interface function and repeat (c) to (f), or if this is for the third time, delete the trip plan, and send a message to the Provide Traveller Trip Planning Interface function that the trip plan has been deleted in the request trip planning payment data flow;<br/>(h) if in (e) a negative response is received, delete the trip plan, and send a message to the Provide Traveller Trip Planning Interface function that the trip plan has been deleted in the request trip planning payment data flow;<br/>(i) if in (b) no trip planning payment is needed, then send details of the advanced payment(s) that are needed for the trip plan to the Provide Traveller Trip Planning Interface function in the advanced payment needed for trip plan data flow;<br/>(j) as a result of (i) continuously monitor for receipt of the booking approval data flow from the Provide Traveller Trip Planning Interface function;<br/>(k) when the data flow in (j) is received, check for payment information and if found, send this to the financial clearinghouse in the trip planning service payment request data flow<br/>(l) as a result of (k), continuously monitor for receipt of the trip planning service payment response data flow from the financial clearinghouse<br/>(m) when the data flow in (f) is received, check to see if it was successful and if not, send the booking mishap data flow to the Provide Traveller Trip Planning Interface function;<br/>(n) as a result of (m), continuously monitor for receipt of the revised booking choices data flow and repeat (i) to (l);<br/>(o) if in (k) a negative response is received, delete the trip plan, and send a message to the Provide Traveller Trip Planning Interface function that the trip plan has been deleted in the request trip planning payment data flow;<br/>(p) if the cancel bookings for trip data flow is received, repeat (m) and (n) and send a cancel booking instruction to the financial clearinghouse in the request payment for trip planning data flow.<br/></H5><h3>Diagrams</H3><table border="1" width="100%"><tr><td><h5>The Diagram(s) is (are) the diagram(s) where you can find the function :</h5></td></tr><tr><td width="100%"><h5><li> <a href="F897FEA239810472.HTM?DiagTab=1" Target="_self">DFD 6.5 Prepare Trip Plan</a><h5><li> <a href="F897F8DC39810031.HTM?DiagTab=0" Target="_self">Functional Tree of Area 6</a></li></h5></td></tr></table><h3>Parent Higher Level Function</H3><h5><ul><li>
  <A CLASS="Content" HREF="f897fea239810472.htm" target="_self"> 6.5 Prepare Trip Plan</A> </ul><ul></ul></h5><h5><ul></ul></h5><h3>Input logical dataflows</H3><h5><ul><li>
  <A CLASS="Content" HREF="810bad784bb00e3e.htm" target="_self"> ffc-payment_for_trip_planning_response </A> <li>
  <A CLASS="Content" HREF="810baee44bb00e87.htm" target="_self"> ffc-trip_planning_service_payment_response </A> <li>
  <A CLASS="Content" HREF="93ee97be4d660194.htm" target="_self"> ptja_booking_approved </A> <li>
  <A CLASS="Content" HREF="aa68ba564c3c0d25.htm" target="_self"> ptja_cancel_bookings_for_trip </A> <li>
  <A CLASS="Content" HREF="f8971c5f39824aaf.htm" target="_self"> ptja_full_trip_description_for_bookings </A> <li>
  <A CLASS="Content" HREF="93ee98154d6601b3.htm" target="_self"> ptja_trip_planning_payment </A> </ul></h5><h3>Output logical dataflows</H3><h5><ul><li>
  <A CLASS="Content" HREF="93ee9a604d66022b.htm" target="_self"> ptja_advanced_payment_needed </A> <li>
  <A CLASS="Content" HREF="93ee99104d6601d7.htm" target="_self"> ptja_booking_mishap </A> <li>
  <A CLASS="Content" HREF="976fbc104ba01291.htm" target="_self"> ptja_full_trip_description_with_bookings </A> <li>
  <A CLASS="Content" HREF="93ee99844d6601fb.htm" target="_self"> ptja_request_trip_planning_payment </A> <li>
  <A CLASS="Content" HREF="810bad454bb00e2e.htm" target="_self"> tfc-request_payment_for_trip_planning </A> <li>
  <A CLASS="Content" HREF="810bae884bb00e73.htm" target="_self"> tfc-trip_planning_service_payment_request </A> </ul> </h5><ul></ul><ul></ul><h3>User needs</H3><div align="right"><table border="1" width="100%"><tr><td width="10%"><center><h4>Number</h4></center></td><td width="90%"><h4>Description</h4></td></tr><tr><td width="10%"><center><h5>
  <A CLASS="Content" HREF="fd14429839be6f19.htm" target="_self"> 6.1.3.1</A> </a></center></h5></td><td width="90%"><h5>The system shall be able to provide facilities for the necessary user identification when a traveller requests information that may result in the purchase or booking of services.</h5></td></tr><tr><td width="10%"><center><h5>
  <A CLASS="Content" HREF="fd14429939be6f61.htm" target="_self"> 6.1.3.4</A> </a></center></h5></td><td width="90%"><h5>The system shall be able to provide access to reservations and pre-payment services.</h5></td></tr><tr><td width="10%"><center><h5>
  <A CLASS="Content" HREF="fd14429939be6f7f.htm" target="_self"> 6.1.3.6</A> </a></center></h5></td><td width="90%"><h5>The system shall enable a traveller to book a parking space at Park and Ride sites as part of a multi-modal trip.</h5></td></tr><tr><td width="10%"><center><h5>
  <A CLASS="Content" HREF="fd14429b39be7165.htm" target="_self"> 6.2.3.1</A> </a></center></h5></td><td width="90%"><h5>The system within the vehicle, or in the centre, shall support various types of presentation to the user.</h5></td></tr><tr><td width="10%"><center><h5>
  <A CLASS="Content" HREF="fd14429b39be71b3.htm" target="_self"> 6.2.3.2</A> </a></center></h5></td><td width="90%"><h5>The system shall normally provide messages from a finite set of well defined messages.</h5></td></tr><tr><td width="10%"><center><h5>
  <A CLASS="Content" HREF="fd14429b39be7201.htm" target="_self"> 6.2.3.3</A> </a></center></h5></td><td width="90%"><h5>The system shall provide information in the native language at the output location, and/or from a user selected choice of other appropriate foreign languages, when applicable.</h5></td></tr><tr><td width="10%"><center><h5>
  <A CLASS="Content" HREF="fd14429c39be724f.htm" target="_self"> 6.2.3.4</A> </a></center></h5></td><td width="90%"><h5>The system shall provide information using &quot;open&quot; standard communication protocols. <br/></h5></td></tr><tr><td width="10%"><center><h5>
  <A CLASS="Content" HREF="fd14429d39be729d.htm" target="_self"> 6.2.3.5</A> </a></center></h5></td><td width="90%"><h5>The system shall be able to provide customised on-trip information to hand-held and in-vehicle devices.</h5></td></tr><tr><td width="10%"><center><h5>
  <A CLASS="Content" HREF="fd14429d39be7375.htm" target="_self"> 6.4.1.1</A> </a></center></h5></td><td width="90%"><h5>The system shall be able to provide guidance to Car Parks (with parking spaces). <br/></h5></td></tr><tr><td width="10%"><center><h5>
  <A CLASS="Content" HREF="fd14429e39be7411.htm" target="_self"> 6.4.1.5</A> </a></center></h5></td><td width="90%"><h5>The system shall be able to provide guidance to &quot;Points of Interest&quot;.</h5></td></tr></table></div>
</BODY> </HTML>